import{b as k,g as A}from"./VSelect-Cqm4FKVJ.js";import{C as R,B as U,a1 as q,ce as w,r as F,bK as D,G as L,bL as T,bM as x,f as t,a6 as _,aU as M,aW as N,bO as O,_ as $,i as j,c as C,u as E,b as G,av as K,e as W,g as z,o as H,k as y,w as u,aq as J,as as Q,q as h,t as X,ax as Y,ay as Z,F as ee,A as ae}from"./index-C2Ki1pi2.js";/* empty css                                                                          */const se=U({...O(),...N(A(),["inline"])},"VCheckbox"),re=R()({name:"VCheckbox",inheritAttrs:!1,props:se(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,c){let{attrs:i,slots:n}=c;const l=q(e,"modelValue"),{isFocused:m,focus:f,blur:d}=w(e),p=F(),o=D();return L(()=>{const[b,g]=T(i),V=x.filterProps(e),r=k.filterProps(e);return t(x,_({ref:p,class:["v-checkbox",e.class]},b,V,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,id:e.id||`checkbox-${o}`,focused:m.value,style:e.style}),{...n,default:a=>{let{id:s,messagesId:v,isDisabled:P,isReadonly:I,isValid:B}=a;return t(k,_(r,{id:s.value,"aria-describedby":v.value,disabled:P.value,readonly:I.value},g,{error:B.value===!1,modelValue:l.value,"onUpdate:modelValue":S=>l.value=S,onFocus:f,onBlur:d}),n)}})}),M({},p)}}),te={__name:"ToggleFavoriteBtn",props:{icon:{type:String,required:!0},venue:{type:Object,required:!0}},setup(e){const c=j(),i=C(()=>n.favoriteVenues.includes(d.venue._id)),n=E(),l=C(()=>n.isLoggedIn),m=G(),f=K(),d=e,p=async()=>{var r,a;try{const s=d.venue._id;i.value?n.removeFavoriteVenue(s):n.addFavoriteVenue(s),await ae.updateFavoriteVenues({venueId:s}),c({text:i.value?"收藏成功！":"已移除收藏！",snackbarProps:{color:"green"}})}catch(s){console.error(s),c({text:((a=(r=s==null?void 0:s.response)==null?void 0:r.data)==null?void 0:a.message)||"收藏失敗，請稍後再試！",snackbarProps:{color:"red"}})}},o=F({open:!1,message:"請先登入才能收藏球場喔！"}),b=()=>{o.value.open=!1},g=()=>{o.value.open=!0},V=()=>{o.value.open=!1,m.push({path:"/logInSingUp",query:{redirect:f.fullPath}})};return(r,a)=>{const s=W("v-icon-btn");return H(),z(ee,null,[t(y,{icon:e.icon,onClick:a[0]||(a[0]=v=>l.value?p(e.venue):g()),class:"btn-heart",variant:"default"},null,8,["icon"]),t(Z,{modelValue:o.value.open,"onUpdate:modelValue":a[1]||(a[1]=v=>o.value.open=v),persistent:"",width:"360"},{default:u(()=>[t(J,{class:"card-dialog"},{default:u(()=>[t(Q,{class:"text-center mt-10"},{default:u(()=>[h(X(o.value.message),1)]),_:1}),t(s,{icon:"mdi-close",onClick:b,class:"btn-close"}),t(Y,null,{default:u(()=>[t(y,{class:"btn mx-auto mt-3 mb-5",onClick:V},{default:u(()=>a[2]||(a[2]=[h("前往登入",-1)])),_:1,__:[2]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},ue=$(te,[["__scopeId","data-v-9ffb865b"]]);export{re as V,ue as _};
