import{b as i,g as y}from"./VSelect-D_jHhdBH.js";import{C,B,a1 as I,cd as A,r as R,bJ as S,G as U,bK as w,bL as d,f as v,a6 as p,aT as N,aV as T,bN as $,_ as j,i as q,c as D,u as G,d as J,o as K,k as L,A as M}from"./index-CSZ70I2P.js";const O=B({...$(),...T(y(),["inline"])},"VCheckbox"),Q=C()({name:"VCheckbox",inheritAttrs:!1,props:O(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,u){let{attrs:r,slots:o}=u;const a=I(e,"modelValue"),{isFocused:c,focus:n,blur:t}=A(e),s=R(),m=S();return U(()=>{const[b,V]=w(r),f=d.filterProps(e),k=i.filterProps(e);return v(d,p({ref:s,class:["v-checkbox",e.class]},b,f,{modelValue:a.value,"onUpdate:modelValue":l=>a.value=l,id:e.id||`checkbox-${m}`,focused:c.value,style:e.style}),{...o,default:l=>{let{id:x,messagesId:_,isDisabled:h,isReadonly:g,isValid:P}=l;return v(i,p(k,{id:x.value,"aria-describedby":_.value,disabled:h.value,readonly:g.value},V,{error:P.value===!1,modelValue:a.value,"onUpdate:modelValue":F=>a.value=F,onFocus:n,onBlur:t}),o)}})}),N({},s)}}),z={__name:"ToggleFavoriteBtn",props:{venue:{type:Object,required:!0}},setup(e){const u=q(),r=D(()=>o.favoriteVenues.includes(a.venue._id)),o=G(),a=e,c=async()=>{var n,t;try{const s=a.venue._id;r.value?o.removeFavoriteVenue(s):o.addFavoriteVenue(s),await M.updateFavoriteVenues({venueId:s}),u({text:r.value?"收藏成功！":"已移除收藏！",snackbarProps:{color:"green"}})}catch(s){console.error(s),u({text:((t=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:t.message)||"收藏失敗，請稍後再試！",snackbarProps:{color:"red"}})}};return(n,t)=>(K(),J(L,{icon:r.value?"mdi-heart":"mdi-heart-outline",onClick:t[0]||(t[0]=s=>c(e.venue)),class:"btn-heart",variant:"plain"},null,8,["icon"]))}},W=j(z,[["__scopeId","data-v-a88a394c"]]);export{Q as V,W as _};
