import{_ as F,i as P,u as j,a as q,r as x,c as V,b as E,o as H,d as l,w as e,V as R,e as L,f as A,g as a,h as t,j as _,k as u,F as g,l as v,m as c,n as C,p as y,q as $,s as B,t as S,v as i,x as k,y as N,z as G,A as J,B as K}from"./index-DzXIfeuh.js";import{_ as U,V as O,a as Q}from"./logo-light-807i9JgP.js";import{V as W,a as X}from"./VAppBarTitle-BLcQdLyp.js";import{V as Y}from"./VList-Bkx8qIKu.js";import{V as Z}from"./VContainer-DkZIsRd8.js";const ee={__name:"default",setup(te){const h=P(),r=j(),D=q(),p=x(!1),m=x(""),w=E(),d=V(()=>w.path==="/"),b=V(()=>[{title:"關於我們",to:"/aboutUs",icon:"mdi-compass",show:!0},{title:"球場列表",to:"/venueList",icon:"mdi-map-marker",show:!0},{title:"我要打球",to:"/socials",icon:"mdi-volleyball",show:!0},{title:"排球商城",to:"/shop",icon:"mdi-cart",show:!0},{title:"註冊/登入",to:"/logInSingUp",icon:"mdi-login",show:!r.isLoggedIn}]),z=V(()=>b.value.filter(n=>n.show).slice(0,4)),M=async()=>{try{const{data:n}=await L.profile();m.value=n.user.avatar,console.log("userAvatar",m)}catch{h({text:"取得大頭貼失敗，請重新整理或稍後再試。",snackbarProps:{color:"red"}})}},I=async()=>{try{await L.logout()}catch(n){console.error(n)}r.logout(),w.push("/"),h({text:"登出成功！",snackbarProps:{color:"green"}})};return H(()=>{M()}),(n,s)=>{const f=A("router-link"),T=A("router-view");return a(),l(R,null,{default:e(()=>[t(W,{style:{position:"fixed"},color:d.value?"transparent":"#353d42",elevation:d.value?0:10,absolute:d.value,app:!d.value,height:"80"},{default:e(()=>[u(D).smAndDown.value?(a(),_(g,{key:0},[t(X,null,{default:e(()=>[t(f,{to:"/"},{default:e(()=>[t(v,{width:"200",height:"200",src:U,id:"logo"})]),_:1})]),_:1}),t(f,{to:"/member"},{default:e(()=>[u(r).isLoggedIn?(a(),l(C,{key:0,style:{border:"3px solid #fdd000"},class:"mr-2"},{default:e(()=>[t(v,{src:m.value},null,8,["src"])]),_:1})):c("",!0)]),_:1}),t(y,{icon:"mdi-menu",onClick:s[0]||(s[0]=$(o=>p.value=!p.value,["stop"])),color:"#f1f1f1"})],64)):(a(),_(g,{key:1},[t(f,{to:"/"},{default:e(()=>[t(v,{width:"220",height:"220",src:U,id:"logo",class:"ml-5"})]),_:1}),t(B),(a(!0),_(g,null,S(z.value,o=>(a(),l(y,{key:o.title,class:"btn-appbar",to:o.to},{default:e(()=>[i(k(o.title),1)]),_:2},1032,["to"]))),128)),t(B),u(r).isLoggedIn?c("",!0):(a(),l(y,{key:0,class:"mr-md-8 btn",to:"/logInSingUp",style:{color:"black"},height:"45"},{default:e(()=>s[2]||(s[2]=[i("註冊/登入",-1)])),_:1,__:[2]})),t(f,{to:"/member"},{default:e(()=>[u(r).isLoggedIn?(a(),l(C,{key:0,style:{border:"3px solid #fdd000"},size:"large",class:"mr-2"},{default:e(()=>[t(v,{src:m.value},null,8,["src"])]),_:1})):c("",!0)]),_:1}),u(r).isLoggedIn?(a(),l(y,{key:1,class:"btn-appbar mr-5",onClick:I},{default:e(()=>s[3]||(s[3]=[i("登出",-1)])),_:1,__:[3]})):c("",!0)],64))]),_:1},8,["color","elevation","absolute","app"]),t(O,{style:{position:"fixed",height:"240px"},modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=o=>p.value=o),temporary:"",location:"right",width:"180",color:"#f1f1f1",rounded:"sm"},{default:e(()=>[t(Y,{density:"compact",nav:""},{default:e(()=>[(a(!0),_(g,null,S(b.value.filter(o=>o.show),o=>(a(),l(N,{key:o.to,value:o.to,to:o.to},{prepend:e(()=>[t(J,null,{default:e(()=>[i(k(o.icon),1)]),_:2},1024)]),default:e(()=>[t(G,{class:"menu-item"},{default:e(()=>[i(k(o.title),1)]),_:2},1024)]),_:2},1032,["value","to"]))),128)),u(r).isLoggedIn?(a(),l(N,{key:0,"prepend-icon":"mdi-logout",class:"menu-item",onClick:I},{default:e(()=>s[4]||(s[4]=[i("登出",-1)])),_:1,__:[4]})):c("",!0)]),_:1})]),_:1},8,["modelValue"]),t(Q,null,{default:e(()=>[t(Z,{class:K(["pa-0",d.value?"container":""]),fluid:""},{default:e(()=>[t(T)]),_:1},8,["class"])]),_:1})]),_:1})}}},ne=F(ee,[["__scopeId","data-v-2bce3820"]]);export{ne as default};
