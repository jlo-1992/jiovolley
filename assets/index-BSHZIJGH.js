import{_ as E}from"./passing-CouDye6I.js";import"./swiper-DnsQ7PNB.js";import{_ as L,a as F,O as H,a2 as N,r as _,$ as P,az as R,e as O,g as I,o as x,f as e,w as t,H as o,t as c,ad as g,af as y,q as n,j as $,ag as q,F as G,p as J,d as K,v as Q,z as W,aA as X,aB as Y,A as Z}from"./index-UDh8WMq-.js";import{a as s,V as f}from"./VRow-Dk6hfCHa.js";import{V as ee}from"./VSelect-BSircueY.js";import{V as te}from"./VList-CeQljH8l.js";const ae={class:"bg-light pb-15"},le={class:"name text-h4"},se={class:"mb-5"},oe={class:"font-weight-bold"},ne={__name:"index",setup(re){F();const h=H("Transactions"),M=N(()=>h.value==="Transactions"?[{id:1,title:"出席",value:90,color:"#ffd000"},{id:2,title:"缺席",value:10,color:"#f1f1f1",pattern:"url(#pattern-0)"}]:[{id:1,title:"出席",value:90,color:"#353D42"},{id:2,title:"缺席",value:10,color:"#f1f1f1"}]),B=_(),T=_([new Date]),b=_([]),k=["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],D=["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"],d=_([]);function U({start:l,end:a}){const m=[],p=l,i=a,v=(i.getTime()-p.getTime())/864e5,w=u(v,v+20);for(let r=0;r<w;r++){const V=u(0,3)===0,C=u(p.getTime(),i.getTime()),z=new Date(C-C%9e5),S=u(2,V?288:8)*9e5,j=new Date(z.getTime()+S);m.push({title:D[u(0,D.length-1)],start:z,end:j,color:k[u(0,k.length-1)],allDay:!V})}b.value=m}function u(l,a){return Math.floor((a-l+1)*Math.random())+l}const A=async()=>{try{const{data:l}=await Z.profile();l?(d.value=l.user,console.log("使用者資料取得成功",d.value)):(d.value=[],console.log("API 回傳資料格式不正確",l))}catch(l){console.error("使用者資料取得失敗:",l)}};return P(()=>{A();const l=R();U({start:l.startOfDay(l.startOfMonth(new Date)),end:l.endOfDay(l.endOfMonth(new Date))})}),(l,a)=>{const m=O("v-pie"),p=O("v-calendar");return x(),I("div",ae,[e(f,null,{default:t(()=>[e(s,{cols:"12",md:"10",class:"mt-10 mx-auto"},{default:t(()=>[o("div",null,[o("h1",le,"嗨， "+c(d.value.name)+"!",1),a[2]||(a[2]=o("p",{class:"text-grey-darken-1 text-h6",style:{"font-family":"'Huninn', sans-serif"}}," 來看看你最近的活動紀錄吧~ ",-1))])]),_:1})]),_:1}),e(f,{justify:"center"},{default:t(()=>[e(s,{cols:"12",md:"5"},{default:t(()=>[e(g,{class:"pa-4 card mb-5"},{default:t(()=>[e(y,{class:"card-title"},{default:t(()=>a[3]||(a[3]=[n("球員檔案",-1)])),_:1,__:[3]}),e(f,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e($,{class:"ml-5",src:E,width:"100"})]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>a[4]||(a[4]=[n("球員姓名：",-1)])),_:1,__:[4]}),e(s,{cols:"8"},{default:t(()=>[n(c(d.value.name),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>a[5]||(a[5]=[n("球技程度：",-1)])),_:1,__:[5]}),e(s,{cols:"8"},{default:t(()=>[n(c(d.value.skillLevel),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>a[6]||(a[6]=[n("性別：",-1)])),_:1,__:[6]}),e(s,{cols:"8"},{default:t(()=>[n(c(d.value.gender),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>a[7]||(a[7]=[n("E-mail：",-1)])),_:1,__:[7]}),e(s,{cols:"8"},{default:t(()=>[n(c(d.value.email),1)]),_:1})]),_:1}),e(q,{class:"pt-4 personal-info"})]),_:1}),e(g,{class:"pa-4 card"},{default:t(()=>[e(y,{class:"card-title"},{default:t(()=>a[8]||(a[8]=[n("我的訂單",-1)])),_:1,__:[8]})]),_:1})]),_:1}),e(s,{cols:"12",md:"5"},{default:t(()=>[o("div",se,[e(g,{class:"pa-6 card"},{default:t(()=>[e(y,{class:"d-flex align-center justify-space-between"},{default:t(()=>[a[9]||(a[9]=o("div",{class:"card-title",style:{}},"我的出席統計",-1)),e(ee,{modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=i=>h.value=i),items:["Transactions","Other"],density:"compact","max-width":"200",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1,__:[9]}),e(m,{items:M.value,legend:{position:l.$vuetify.display.mdAndUp?"right":"bottom"},tooltip:{subtitleFormat:"[value]%"},class:"pa-3 mt-3 justify-center",gap:"2","inner-cut":"70","item-key":"id",rounded:"2",size:"200",animation:"","hide-slice":"",reveal:""},{center:t(()=>a[10]||(a[10]=[o("div",{class:"text-center"},[o("div",{class:"card-title text-h5"},"出席率"),o("div",{class:"opacity-70 text-h4 mt-1 mb-n1"},"90%")],-1)])),legend:t(({items:i,toggle:v,isActive:w})=>[e(te,{class:"py-0 mb-n5 mb-md-0 bg-transparent",density:"compact",width:"150"},{default:t(()=>[(x(!0),I(G,null,J(i,r=>(x(),K(Q,{key:r.key,class:W(["my-1",{"opacity-40":!w(r)}]),title:r.title,rounded:"xl",link:"",onClick:V=>v(r)},{prepend:t(()=>[e(X,{color:r.color,size:16},null,8,["color"])]),append:t(()=>[o("div",oe,c(r.value)+"%",1)]),_:2},1032,["class","title","onClick"]))),128))]),_:2},1024)]),_:1},8,["items","legend"])]),_:1})]),e(g,{class:"pa-4 card",style:{"overflow-y":"scroll"}},{default:t(()=>[e(y,{class:"card-title"},{default:t(()=>a[11]||(a[11]=[n("我的排球行事曆",-1)])),_:1,__:[11]}),e(f,{class:"fill-height"},{default:t(()=>[e(s,null,{default:t(()=>[e(Y,{height:"350"},{default:t(()=>[e(p,{ref_key:"calendar",ref:B,modelValue:T.value,"onUpdate:modelValue":a[1]||(a[1]=i=>T.value=i),events:b.value,color:"#353D42",type:"month"},null,8,["modelValue","events"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(s,{cols:"12",md:"5"},{default:t(()=>[e(f,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>a[12]||(a[12]=[o("div",{class:"h-0"},[o("svg",{height:"0",version:"1.1",width:"0",xmlns:"http://www.w3.org/2000/svg"},[o("defs",null,[o("pattern",{id:"pattern-0",height:"20",patternTransform:"rotate(145) scale(.2)",patternUnits:"userSpaceOnUse",width:"20"},[o("path",{d:"M0 10h20zm0 20h20zm0 20h20zm0 20h20z",fill:"none",stroke:"rgb(var(--v-theme-surface))","stroke-width":"3"})])])])],-1)])),_:1,__:[12]})]),_:1})]),_:1})]),_:1})])}}},pe=L(ne,[["__scopeId","data-v-8c04b900"]]);export{pe as default};
