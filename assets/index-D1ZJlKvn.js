import{_ as z}from"./passing-CouDye6I.js";import"./swiper-DnsQ7PNB.js";import{_ as L,a as N,O as R,a2 as $,r as g,$ as H,az as q,e as I,d as O,o as V,w as t,f as e,ar as m,k as B,y as M,q as n,au as G,aA as P,H as o,j as J,t as u,at as K,as as Q,g as W,F as X,p as Y,v as Z,z as ee,aB as te,A as le}from"./index-BwFLAmkK.js";import{V as f,a as s}from"./VRow-Br5g1yRP.js";import{V as ae}from"./VSelect-C4PjwKxS.js";import{V as se}from"./VList-CkbSh5-e.js";import{V as oe}from"./VContainer-BS3HYsmw.js";const ne={class:"mb-5"},re={class:"font-weight-bold"},de={__name:"index",setup(ie){N();const y=R("Transactions"),U=$(()=>y.value==="Transactions"?[{id:1,title:"出席",value:90,color:"#ffd000"},{id:2,title:"缺席",value:10,color:"#f1f1f1",pattern:"url(#pattern-0)"}]:[{id:1,title:"出席",value:90,color:"#353D42"},{id:2,title:"缺席",value:10,color:"#f1f1f1"}]),j=g(),w=g([new Date]),k=g([]),x=["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],T=["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"],i=g([]);function A({start:a,end:l}){const p=[],v=a,d=l,_=(d.getTime()-v.getTime())/864e5,b=c(_,_+20);for(let r=0;r<b;r++){const h=c(0,3)===0,D=c(v.getTime(),d.getTime()),C=new Date(D-D%9e5),E=c(2,h?288:8)*9e5,F=new Date(C.getTime()+E);p.push({title:T[c(0,T.length-1)],start:C,end:F,color:x[c(0,x.length-1)],allDay:!h})}k.value=p}function c(a,l){return Math.floor((l-a+1)*Math.random())+a}const S=async()=>{try{const{data:a}=await le.profile();a?(i.value=a.user,console.log("使用者資料取得成功",i.value)):(i.value=[],console.log("API 回傳資料格式不正確",a))}catch(a){console.error("使用者資料取得失敗:",a)}};return H(()=>{S();const a=q();A({start:a.startOfDay(a.startOfMonth(new Date)),end:a.endOfDay(a.endOfMonth(new Date))})}),(a,l)=>{const p=I("v-pie"),v=I("v-calendar");return V(),O(oe,{class:"bg-dark"},{default:t(()=>[e(m,{class:"bg-light pt-10 mt-1",style:{border:"2px solid black"}},{default:t(()=>[e(f,{justify:"center"},{default:t(()=>[e(s,{cols:"11",md:"6"},{default:t(()=>[e(B,{variant:"outlined",class:"ml-7 btn-hover",rounded:"0",style:{border:"2px solid black"},to:"/",size:"40"},{default:t(()=>[e(M,null,{default:t(()=>l[2]||(l[2]=[n("mdi-home",-1)])),_:1,__:[2]})]),_:1})]),_:1}),e(s,{cols:"11",md:"6",class:"d-flex"},{default:t(()=>[e(G,{"prepend-inner-icon":"mdi-magnify",density:"compact",placeholder:"請輸入關鍵字","hide-details":"",style:{"background-color":"#f1f1f1",border:"2px solid black"},class:"mr-10"}),e(B,{class:"mr-2 btn-hover",variant:"outlined",rounded:"0",style:{border:"2px solid black"},to:"/",size:"40"},{default:t(()=>[e(M,null,{default:t(()=>l[3]||(l[3]=[n("mdi-bell",-1)])),_:1,__:[3]})]),_:1}),e(P,{rounded:"0",image:z,style:{border:"2px solid black"},class:"mr-7 btn-hover"})]),_:1})]),_:1}),e(f,{justify:"center"},{default:t(()=>[e(s,{cols:"11",md:"6"},{default:t(()=>[l[8]||(l[8]=o("h1",{class:"card-title mb-5 ml-7"},"球員檔案",-1)),e(m,{class:"pa-4 card-memberPage mb-5 ml-7"},{default:t(()=>[e(f,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>[e(J,{class:"ml-5",src:z,width:"100"})]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>l[4]||(l[4]=[n("球員姓名：",-1)])),_:1,__:[4]}),e(s,{cols:"8"},{default:t(()=>[n(u(i.value.name),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>l[5]||(l[5]=[n("球技程度：",-1)])),_:1,__:[5]}),e(s,{cols:"8"},{default:t(()=>[n(u(i.value.skillLevel),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>l[6]||(l[6]=[n("性別：",-1)])),_:1,__:[6]}),e(s,{cols:"8"},{default:t(()=>[n(u(i.value.gender),1)]),_:1}),e(s,{cols:"2",class:"ml-6"},{default:t(()=>l[7]||(l[7]=[n("E-mail：",-1)])),_:1,__:[7]}),e(s,{cols:"8"},{default:t(()=>[n(u(i.value.email),1)]),_:1})]),_:1}),e(K,{class:"pt-4 personal-info"})]),_:1}),l[9]||(l[9]=o("h1",{class:"card-title mb-5 mt-10 ml-7"},"我的訂單",-1)),e(m,{class:"pa-4 card-memberPage ml-7"})]),_:1,__:[8,9]}),e(s,{cols:"11",md:"6"},{default:t(()=>[o("div",ne,[l[11]||(l[11]=o("div",{class:"card-title mb-5"},"我的出席統計",-1)),e(m,{class:"pa-6 card-memberPage mr-7"},{default:t(()=>[e(Q,{class:"d-flex align-center justify-space-between"},{default:t(()=>[e(ae,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=d=>y.value=d),items:["Transactions","Other"],density:"compact","max-width":"200",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),e(p,{items:U.value,legend:{position:a.$vuetify.display.mdAndUp?"right":"bottom"},tooltip:{subtitleFormat:"[value]%"},class:"pa-3 mt-3 justify-center",gap:"2","inner-cut":"70","item-key":"id",rounded:"2",size:"200",animation:"","hide-slice":"",reveal:""},{center:t(()=>l[10]||(l[10]=[o("div",{class:"text-center"},[o("div",{class:"card-title text-h5"},"出席率"),o("div",{class:"opacity-70 text-h4 mt-1 mb-n1"},"90%")],-1)])),legend:t(({items:d,toggle:_,isActive:b})=>[e(se,{class:"py-0 mb-n5 mb-md-0 bg-transparent",density:"compact",width:"150"},{default:t(()=>[(V(!0),W(X,null,Y(d,r=>(V(),O(Z,{key:r.key,class:ee(["my-1",{"opacity-40":!b(r)}]),title:r.title,rounded:"xl",link:"",onClick:h=>_(r)},{prepend:t(()=>[e(P,{color:r.color,size:16},null,8,["color"])]),append:t(()=>[o("div",re,u(r.value)+"%",1)]),_:2},1032,["class","title","onClick"]))),128))]),_:2},1024)]),_:1},8,["items","legend"])]),_:1})]),l[12]||(l[12]=o("h1",{class:"card-title mb-5 mt-10"},"我的排球行事曆",-1)),e(m,{class:"pa-4 card-memberPage mr-7",style:{"overflow-y":"scroll"}},{default:t(()=>[e(f,{class:"fill-height"},{default:t(()=>[e(s,null,{default:t(()=>[e(te,{height:"350"},{default:t(()=>[e(v,{ref_key:"calendar",ref:j,modelValue:w.value,"onUpdate:modelValue":l[1]||(l[1]=d=>w.value=d),events:k.value,color:"#353D42",type:"month"},null,8,["modelValue","events"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1,__:[12]}),e(s,{cols:"12",md:"5"},{default:t(()=>[e(f,null,{default:t(()=>[e(s,{cols:"12"},{default:t(()=>l[13]||(l[13]=[o("div",{class:"h-0"},[o("svg",{height:"0",version:"1.1",width:"0",xmlns:"http://www.w3.org/2000/svg"},[o("defs",null,[o("pattern",{id:"pattern-0",height:"20",patternTransform:"rotate(145) scale(.2)",patternUnits:"userSpaceOnUse",width:"20"},[o("path",{d:"M0 10h20zm0 20h20zm0 20h20zm0 20h20z",fill:"none",stroke:"rgb(var(--v-theme-surface))","stroke-width":"3"})])])])],-1)])),_:1,__:[13]})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},ge=L(de,[["__scopeId","data-v-81965fbc"]]);export{ge as default};
